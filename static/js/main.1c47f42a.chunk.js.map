{"version":3,"sources":["components/User.js","redux/actions.js","components/Letter.js","components/AlphabetList.js","components/CheckedUser.js","components/Month.js","components/BirthdayList.js","App.js","redux/usersReducer.js","redux/checkedReducer.js","redux/rootReducer.js","index.js","localStorage.js"],"names":["User","user","dispatch","useDispatch","useState","checked","setChecked","onChange","type","payload","id","uncheckUser","state","checkUser","className","htmlFor","lastName","firstName","Letter","letter","specificUsers","useSelector","usersReducer","users","filter","item","length","map","uuidv4","strArray","toUpperCase","split","AlphabetList","checkedUsers","JSON","parse","localStorage","getItem","useEffect","a","fetch","response","status","json","alert","CheckedUser","month","parseInt","dob","slice","Month","number","checkedReducer","monthNames","BirthdayList","months","indexOf","App","initialState","rootReducer","combineReducers","action","concat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistedState","serializedState","err","loadState","store","createStore","applyMiddleware","thunk","subscribe","stringify","setItem","e","console","log","saveState","getState","app","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1c47f42a.chunk.js","sourcesContent":["import React, {useState} from 'react'\r\nimport {useDispatch} from \"react-redux\"\r\nimport {checkUser, uncheckUser} from \"../redux/actions\"\r\n\r\n\r\nconst User = ({user}) => {\r\n    const dispatch = useDispatch()\r\n    const [checked, setChecked] = useState(user.checked)\r\n\r\n    const onChange = () => {\r\n        if (!checked) {\r\n            dispatch(checkUser({\r\n                ...user,\r\n                checked: true\r\n            }))\r\n            setChecked(state => !state)\r\n        } else {\r\n            dispatch(uncheckUser(user))\r\n            setChecked(state => !state)\r\n        }\r\n    }\r\n\r\n    if (user.checked) {\r\n        return (\r\n            <div className=\"user\">\r\n                <label htmlFor={\"u_\" + user.id}>{user.lastName} {user.firstName}</label>\r\n                <input id={\"u_\" + user.id} type=\"checkbox\" onChange={onChange} checked={checked}/>\r\n            </div>\r\n        )\r\n    } else return (\r\n        <div className=\"user\">\r\n            <label htmlFor={\"u_\" + user.id}>{user.lastName} {user.firstName}</label>\r\n            <input id={\"u_\" + user.id} type=\"checkbox\" onChange={onChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","const URL = \"https://yalantis-react-school-api.yalantis.com/api/task0/users\"\r\n\r\n\r\nexport function fetchUsers(users) {\r\n    return async dispatch => {\r\n        const response = await fetch(URL)\r\n        if (response.status === 200) {\r\n            const json = await response.json()\r\n            json.map(item => item.checked = false)\r\n            dispatch({type: \"FETCH_USERS\", payload: json})\r\n            users.map(user => dispatch({type: \"DELETE_DUPLICATED\", payload: user.id}))\r\n            dispatch({type: \"ADD_USERS\", payload: users})\r\n        } else {\r\n            alert('Failed to load users, try again')\r\n        }\r\n    }\r\n}\r\n\r\nexport function checkUser(user) {\r\n    return {\r\n        type: \"CHECK_USER\",\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport function uncheckUser(user) {\r\n    return {\r\n        type: \"UNCHECK_USER\",\r\n        payload: user.id\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\"\r\nimport User from \"./User\"\r\nimport {v4 as uuidv4} from \"uuid\"\r\nimport {useSelector} from \"react-redux\"\r\n\r\n\r\nconst Letter = ({letter}) => {\r\n    const users = useSelector(state => state.usersReducer.users)\r\n    let specificUsers = users.filter(item => item.lastName[0] === letter[0]);\r\n    if (specificUsers.length < 1) {\r\n        return (\r\n            <div className=\"noUsers\">\r\n                <div className=\"\"><b>{letter}</b></div>\r\n                <div className=\"\">-----</div>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"letter\">\r\n            <div><b>{letter}</b></div>\r\n            {specificUsers.map(user => <User user={user} key={uuidv4()}/>)}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Letter","import React, {useEffect} from 'react'\r\nimport {v4 as uuidv4} from 'uuid'\r\nimport Letter from './Letter'\r\nimport {fetchUsers} from \"../redux/actions\"\r\nimport {useDispatch} from \"react-redux\"\r\n\r\nconst str = \"abcdefghijklmnopqrstuvwxyz\".toUpperCase()\r\nconst strArray = str.split(\"\")\r\n\r\n\r\nconst AlphabetList = () => {\r\n    const dispatch = useDispatch()\r\n    let checkedUsers\r\n    if (JSON.parse(localStorage.getItem('state'))) {\r\n        checkedUsers = JSON.parse(localStorage.getItem('state'))\r\n    } else checkedUsers = []\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchUsers(checkedUsers.checkedUsers))\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"userContainer\">\r\n            <div className=\"userListTitle\"><b>Employees</b></div>\r\n            <div className=\"userList\">\r\n                {strArray.map(letter => <Letter letter={letter} key={uuidv4()}/>)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AlphabetList","import React from 'react'\r\n\r\nconst CheckedUser = ({user, month}) => {\r\n    return (\r\n        <div>&#8226; {user.lastName} {user.firstName} - {parseInt(user.dob.slice(5, 7))} {month}, {user.dob.slice(0, 4)} year</div>\r\n    )\r\n}\r\n\r\nexport default CheckedUser","import React from 'react'\r\nimport {v4 as uuidv4} from 'uuid'\r\nimport {useSelector} from \"react-redux\"\r\nimport CheckedUser from \"./CheckedUser\"\r\n\r\n\r\nconst Month = ({month, number}) => {\r\n    const checkedUsers = useSelector(state => state.checkedReducer.checkedUsers)\r\n    let users = checkedUsers.filter(item => parseInt(item.dob.slice(5, 7)) === number);\r\n\r\n    if (users.length < 1) {\r\n        return <span/>\r\n    }\r\n    return (\r\n        <div>\r\n            <div className='month'><b>{month}</b></div>\r\n            {users.map(user => <CheckedUser user={user} month={month} key={uuidv4()}/>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Month","import React, {useState} from 'react'\r\nimport {v4 as uuidv4} from 'uuid'\r\nimport Month from \"./Month\"\r\nimport {useSelector} from \"react-redux\"\r\n\r\n\r\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\nconst BirthdayList = () => {\r\n    const [months] = useState(monthNames)\r\n    const checkedUsers = useSelector(state => state.checkedReducer.checkedUsers)\r\n\r\n    if (checkedUsers.length) {\r\n        return (\r\n            <div className=\"monthContainer\">\r\n                <p className=\"monthListTitle\"><b>Employees birthday</b></p>\r\n                <div className=\"monthList\">\r\n                    {months.map(month => <Month month={month} number={(months.indexOf(month) + 1)} key={uuidv4()}/>)}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    return <div className=\"monthContainer\">\r\n        <p className=\"monthListTitle\"><b>Employees birthday</b></p>\r\n        <p className=\"emptyTitle\">No selected employees</p>\r\n    </div>\r\n}\r\n\r\nexport default BirthdayList","import React from \"react\"\nimport AlphabetList from \"./components/AlphabetList\"\nimport BirthdayList from \"./components/BirthdayList\"\n\nfunction App() {\n    return (\n        <div className=\"container\">\n            <AlphabetList/>\n            <BirthdayList/>\n        </div>\n    );\n}\n\nexport default App;\n","import {FETCH_USERS} from \"./types\"\r\n\r\nconst initialState = {\r\n    users: []\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state\r\n        case \"FETCH_USERS\": {\r\n            return {...state, users: action.payload}\r\n        }\r\n        case \"ADD_USERS\": {\r\n            return {users: state.users.concat(action.payload)}\r\n        }\r\n        case \"DELETE_DUPLICATED\": {\r\n            return {users: state.users.filter(user => user.id !== action.payload)}\r\n        }\r\n        case \"ADD_USER\": {\r\n            return {users: state.users.concat([action.payload])}\r\n        }\r\n        case \"DELETE_USER\": {\r\n            return {users: state.users.filter(user => user.id !== action.payload)}\r\n        }\r\n    }\r\n}\r\n","import {CHECK_USER, UNCHECK_USER} from \"./types\"\r\n\r\nconst initialState = () => {\r\n    if (JSON.parse(localStorage.getItem('state')) === null) {\r\n        return {checkedUsers: []}\r\n    } else return JSON.parse(localStorage.getItem('state'))\r\n}\r\n\r\nexport const checkedReducer = (state = initialState(), action) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state\r\n        case \"CHECK_USER\": {\r\n            return {checkedUsers: state.checkedUsers.concat([action.payload])}\r\n        }\r\n        case \"UNCHECK_USER\": {\r\n            return {checkedUsers: state.checkedUsers.filter(user => user.id !== action.payload)}\r\n        }\r\n    }\r\n}\r\n","import {combineReducers} from \"redux\"\r\nimport {usersReducer} from \"./usersReducer\"\r\nimport {checkedReducer} from \"./checkedReducer\"\r\n\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n    usersReducer,\r\n    checkedReducer\r\n})","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport {applyMiddleware, compose, createStore} from \"redux\"\nimport {Provider} from \"react-redux\"\nimport thunk from \"redux-thunk\"\nimport {rootReducer} from \"./redux/rootReducer\"\nimport {loadState, saveState} from \"./localStorage\"\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst persistedState = loadState()\n\nconst store = createStore(rootReducer, persistedState, composeEnhancers(\n    applyMiddleware(\n        thunk\n    )))\n\nstore.subscribe(() => {\n    saveState(\n        store.getState().checkedReducer\n    )\n})\n\nconst app = (\n    <Provider store={store}>\n        <App/>\n    </Provider>\n)\n\nReactDOM.render(\n    <React.StrictMode>\n        {app}\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n\n","export const loadState = () => {\r\n    try {\r\n        const serializedState = localStorage.getItem('state')\r\n        if (serializedState === null) {\r\n            return undefined\r\n        }\r\n        return JSON.parse(serializedState)\r\n    } catch (err) {\r\n        return undefined\r\n    }\r\n}\r\n\r\nexport const saveState = (state) => {\r\n    try {\r\n        const serializedState = JSON.stringify(state);\r\n        localStorage.setItem('state', serializedState);\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n};"],"sourceRoot":""}