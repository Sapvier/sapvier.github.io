(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{21:function(e,t,c){},29:function(e,t,c){"use strict";c.r(t);var r=c(1),s=c(0),n=c.n(s),a=c(5),i=c.n(a),u=(c(21),c(30)),l=c(4),o=c(6),d=c(2),j=c(12),b=c.n(j),h=c(14);var O=function(e){var t=e.user,c=Object(d.b)(),n=Object(s.useState)(t.checked),a=Object(o.a)(n,2),i=a[0],u=a[1],j=function(){i?(c(function(e){return{type:"UNCHECK_USER",payload:e.id}}(t)),u((function(e){return!e}))):(c(function(e){return{type:"CHECK_USER",payload:e}}(Object(l.a)(Object(l.a)({},t),{},{checked:!0}))),u((function(e){return!e})))};return t.checked?Object(r.jsxs)("div",{className:"user",children:[Object(r.jsxs)("label",{htmlFor:"u_"+t.id,children:[t.lastName," ",t.firstName]}),Object(r.jsx)("input",{id:"u_"+t.id,type:"checkbox",onChange:j,checked:i})]}):Object(r.jsxs)("div",{className:"user",children:[Object(r.jsxs)("label",{htmlFor:"u_"+t.id,children:[t.lastName," ",t.firstName]}),Object(r.jsx)("input",{id:"u_"+t.id,type:"checkbox",onChange:j})]})},p=function(e){var t=e.letter,c=Object(d.c)((function(e){return e.usersReducer.users})).filter((function(e){return e.lastName[0]===t[0]}));return c.length<1?Object(r.jsxs)("div",{className:"noUsers",children:[Object(r.jsx)("div",{className:"",children:Object(r.jsx)("b",{children:t})}),Object(r.jsx)("div",{className:"",children:"-----"})]}):Object(r.jsxs)("div",{className:"letter",children:[Object(r.jsx)("div",{children:Object(r.jsx)("b",{children:t})}),c.map((function(e){return Object(r.jsx)(O,{user:e},Object(u.a)())}))]})},m="abcdefghijklmnopqrstuvwxyz".toUpperCase().split(""),f=function(){var e,t=Object(d.b)();return e=JSON.parse(localStorage.getItem("state"))?JSON.parse(localStorage.getItem("state")):[],Object(s.useEffect)((function(){var c;t((c=e.checkedUsers,function(){var e=Object(h.a)(b.a.mark((function e(t){var r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 2:if(200!==(r=e.sent).status){e.next=13;break}return e.next=6,r.json();case 6:(s=e.sent).map((function(e){return e.checked=!1})),t({type:"FETCH_USERS",payload:s}),c.map((function(e){return t({type:"DELETE_DUPLICATED",payload:e.id})})),t({type:"ADD_USERS",payload:c}),e.next=14;break;case 13:alert("Failed to load users, try again");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),Object(r.jsxs)("div",{className:"userContainer",children:[Object(r.jsx)("div",{className:"userListTitle",children:Object(r.jsx)("b",{children:"Employees"})}),Object(r.jsx)("div",{className:"userList",children:m.map((function(e){return Object(r.jsx)(p,{letter:e},Object(u.a)())}))})]})},x=function(e){var t=e.user,c=e.month;return Object(r.jsxs)("div",{children:["\u2022 ",t.lastName," ",t.firstName," - ",parseInt(t.dob.slice(5,7))," ",c,", ",t.dob.slice(0,4)," year"]})},y=function(e){var t=e.month,c=e.number,s=Object(d.c)((function(e){return e.checkedReducer.checkedUsers})).filter((function(e){return parseInt(e.dob.slice(5,7))===c}));return s.length<1?Object(r.jsx)("span",{}):Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"month",children:Object(r.jsx)("b",{children:t})}),s.map((function(e){return Object(r.jsx)(x,{user:e,month:t},Object(u.a)())}))]})},v=["January","February","March","April","May","June","July","August","September","October","November","December"],E=function(){var e=Object(s.useState)(v),t=Object(o.a)(e,1)[0];return Object(d.c)((function(e){return e.checkedReducer.checkedUsers})).length?Object(r.jsxs)("div",{className:"monthContainer",children:[Object(r.jsx)("p",{className:"monthListTitle",children:Object(r.jsx)("b",{children:"Employees birthday"})}),Object(r.jsx)("div",{className:"monthList",children:t.map((function(e){return Object(r.jsx)(y,{month:e,number:t.indexOf(e)+1},Object(u.a)())}))})]}):Object(r.jsxs)("div",{className:"monthContainer",children:[Object(r.jsx)("p",{className:"monthListTitle",children:Object(r.jsx)("b",{children:"Employees birthday"})}),Object(r.jsx)("p",{className:"emptyTitle",children:"No selected employees"})]})};var N=function(){return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(f,{}),Object(r.jsx)(E,{})]})},S=c(3),g=c(15),k={users:[]},U=function(){return null===JSON.parse(localStorage.getItem("state"))?{checkedUsers:[]}:JSON.parse(localStorage.getItem("state"))},_=Object(S.c)({usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case"FETCH_USERS":return Object(l.a)(Object(l.a)({},e),{},{users:t.payload});case"ADD_USERS":return{users:e.users.concat(t.payload)};case"DELETE_DUPLICATED":return{users:e.users.filter((function(e){return e.id!==t.payload}))};case"ADD_USER":return{users:e.users.concat([t.payload])};case"DELETE_USER":return{users:e.users.filter((function(e){return e.id!==t.payload}))}}},checkedReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case"CHECK_USER":return{checkedUsers:e.checkedUsers.concat([t.payload])};case"UNCHECK_USER":return{checkedUsers:e.checkedUsers.filter((function(e){return e.id!==t.payload}))}}}}),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.d,R=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),D=Object(S.e)(_,R,C(Object(S.a)(g.a)));D.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(c){console.log(c)}}(D.getState().checkedReducer)}));var T=Object(r.jsx)(d.a,{store:D,children:Object(r.jsx)(N,{})});i.a.render(Object(r.jsx)(n.a.StrictMode,{children:T}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.1c47f42a.chunk.js.map